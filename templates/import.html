{% extends "base.html" %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='import.css') }}">

<div class="import-page">
  <h2 class="import-title">Import Flashcards</h2>

  {% if msg %}
    <p class="import-message">{{ msg }}</p>
  {% endif %}

  <form class="import-form" method="POST" enctype="multipart/form-data">
    {{ form.hidden_tag() }}

    <div>
      {{ form.deck.label }}<br>
      {{ form.deck() }}
    </div>

    <div>
      {{ form.csv.label(class="import-file-label") }}<br>
      {{ form.csv(class="import-file-input") }}
    </div>

    <div>
      {{ form.submit(class="import-submit-btn") }}
    </div>
  </form>

  <strong>CSV header must be</strong> <code class="import-code">question,answer</code>

  {% if data %}
    <h3 class="import-title">Imported Data</h3>
    <table class="import-table">
      <thead>
        <tr>
          <th>Deck</th>
          <th>Question</th>
          <th>Answer</th>
        </tr>
      </thead>
      <tbody>
        {% for row in data %}
          <tr>
            <td>{{ row.deck }}</td>
            <td>{{ row.question }}</td>
            <td>{{ row.answer }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% endif %}
</div>
{% endblock %}
